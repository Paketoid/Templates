\usepackage{amsmath}
\usepackage{amsfonts} %пакет спецшрифтов
\usepackage{amssymb} %пакет спецсимволов
\usepackage{amstext} %пакет для красивого вкрапления кусков текста в математический текст
\usepackage{amsthm} %пакет для создания собственных модификаций среды theorem
%\usepackage{ntheorem}

\usepackage{graphicx} %пакет для работы с графикой (в том числе, вставка)
\usepackage{pgf,tikz} %пакет для рисования картинок в Tikz
\usepackage{mathtools, nccmath}
\usepackage{wrapfig} %обтекание картинок текстом
\usepackage[colorlinks=true, linkcolor=black, linktoc=all, citecolor=blue, urlcolor=blue]{hyperref} %пакет, отвечающий за гиперссылки
\usepackage{multicol} %пакет для разметки под несколько колонок текста
\usepackage{changepage} %пакет для точечного изменения разметки страницы (например, полей)
\usepackage[shortlabels]{enumitem} %пакет со средами по типу enumerate

\usepackage{placeins}
\usepackage{bmpsize}
\usepackage{ccfonts,eulervm,euler}
\usepackage{indentfirst}
\renewcommand{\bfdefault}{sbc}
\usepackage{listings}

\usepackage{enumerate} %модификация enumerate
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

%----------
%подгонка полей
\usepackage{geometry} %пакет для разметки листа
\textwidth=172mm
\oddsidemargin=0mm
\evensidemargin=0mm
\advance\hoffset by -1in
\advance\hoffset by 20mm
\textheight=260mm
\topmargin=0mm
\headheight=0mm
\headsep=0mm
\advance\voffset by -1in
\advance\voffset by 15mm

%----------

\makeatletter
% we use \prefix@<level> only if it is defined
\renewcommand{\@seccntformat}[1]{%
  \ifcsname prefix@#1\endcsname
    \csname prefix@#1\endcsname
  \else
    \csname the#1\endcsname\quad
  \fi}
% define \prefix@section
\newcommand\prefix@section{}
\newcommand{\prefix@subsection}{\thesubsection\ - }
\newcommand{\prefix@subsubsection}{\thesubsubsection\ - }
\renewcommand{\thesubsection}{\arabic{subsection}}
\makeatother


%----------

%\sloppy

%----------
%макросы для верстки сборника статей
\usepackage{tocloft} %пакет для фокусов с содержанием

%maketitle для титульника
\makeatletter
\newcommand\Maketitle{\begingroup%
\let\footnotesize\small
\let\footnoterule\relax
\let \footnote \thanks
\null\vfil
\vskip 60\p@
\begin{center}%
{\Huge \@title \par}%
\vskip 3em%
{\huge
 \lineskip .75em%
  \begin{tabular}[t]{c}%
    \@author
  \end{tabular}\par}%
  \vskip 1.5em%
{\Large \@date \par}%       % Set date in \large size.
\end{center}\par
\@thanks
\vfil\null
\pagebreak
\endgroup%
\setcounter{footnote}{0}%
}
\makeatother


%maketitle для встраивания статей
\makeatletter
\renewcommand\maketitle{\begingroup%
%\let\footnotesize\small
%\let\footnoterule\relax
\begin{center}%
{\huge \@title \par}%
%\vskip 1.5em%
%\vskip -1.5em%
\end{center}\par
\endgroup%
\addtocounter{section}{1}
\setcounter{subsection}{0}
\setcounter{theorem}{0}
\addcontentsline{toc}{section}{\protect\numberline{\thesection} \@title}
}
\makeatother

%------------------

\renewenvironment{abstract}{%
        \Large
        \begin{center}%
          {\bfseries \abstractname\vspace{-.5em}}%
        \end{center}%
        \quotation
}

%---------

\newcounter{chapnumber}\setcounter{chapnumber}{1}
\newcounter{thnum}[section]

\newtheorem{theorem}{\hspace{1em}Теорема}[section]
\newtheorem*{theorem*}{\hspace{1em}Теорема}
\newtheorem{lemma}[theorem]{\hspace{1em}Лемма}
\newtheorem*{lemma*}{\hspace{1em}Лемма}
\newtheorem{conjecture}[theorem]{\hspace{1em}Предложение}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{\hspace{1em}Определение}
\newtheorem*{definition*}{\hspace{1em}Определение}

\newtheorem*{prf}{\hspace{1em}Доказательство}
\newenvironment{prf*}
 {\pushQED{\qed}\prf}
 {\popQED\endprf}

\def\RR{{\mathbb R}}
\def\QQ{{\mathbb Q}}
\def\ZZ{{\mathbb Z}}
\def\CC{{\mathbb C}}
\def\NN{{\mathbb N}}
\def\FF{{\mathbb F}}

\newcommand{\Subsection}[1]{
	%\begin{centering}
	\subsection*{\LARGE #1}
  \addcontentsline{toc}{subsection}{#1}
  %\refstepcounter{subsection}
  %\end{centering}
}

%----------
%знак делимости
\DeclareRobustCommand{\divby}{ \mathrel{\vbox{\baselineskip.65ex\lineskiplimit0pt\hbox{.}\hbox{.}\hbox{.}}}
}

%----------
\newcommand{\define}[1]{{\textit{#1}}}
\newcommand{\tabitem}{~~\llap{\textbullet}~~}

%----------
\newcommand{\tab}[1]{\hspace*{#1}}

%----------
%нумерация задач
\newcounter{zadacha}
\newcounter{ppp}
\newcommand{\zd}{\medskip\par%
	\addtocounter{zadacha}{1}%
	{\framebox{\bf{\arabic{zadacha}}}}%
	\setcounter{ppp}{0}
}

\newcommand{\zdstar}{\medskip\par%
	\addtocounter{zadacha}{1}%
	{\framebox{\bf{\arabic{zadacha}*}}}%
	\setcounter{ppp}{0}
}

\newcommand{\pp}[1][0mm]{\addtocounter{ppp}{1}
\hspace{#1}\framebox{\alph{ppp}} }

\newcommand{\ppstar}[1][0mm]{\addtocounter{ppp}{1}
\hspace{#1}\framebox{\alph{ppp}*} }

%------------
%картинки в Tikz
\usepackage{titlesec}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{etoolbox}

\usepackage{pgfplots}
\pgfplotsset{compat=1.15}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}
\pagestyle{empty}

%------------
%красивые дроби
\usepackage{nicefrac}

%------------
%эпиграфы
\usepackage{epigraph}
\setlength\epigraphwidth{.8\textwidth}

%------------
%plain text на сером фоне
\usepackage{fancyvrb,newverbs,xcolor}

\definecolor{cverbbg}{gray}{0.93}
\newenvironment{cverbatim}
 {\SaveVerbatim{cverb}}
 {\endSaveVerbatim
  \flushleft\fboxrule=0pt\fboxsep=.5em
  \colorbox{cverbbg}{\BUseVerbatim{cverb}}%
  \endflushleft
}
\newenvironment{lcverbatim}
 {\SaveVerbatim{cverb}}
 {\endSaveVerbatim
  \flushleft\fboxrule=0pt\fboxsep=.5em
  \colorbox{cverbbg}{%
    \makebox[\dimexpr\linewidth-2\fboxsep][l]{\BUseVerbatim{cverb}}%
  }
  \endflushleft
}
\newcommand{\ctexttt}[1]{\colorbox{cverbbg}{\texttt{#1}}}
\newverbcommand{\cverb}
  {\setbox\verbbox\hbox\bgroup}
  {\egroup\colorbox{cverbbg}{\box\verbbox}}
